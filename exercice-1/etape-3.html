<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<title>semaine-9</title>
	</head>
	<body>
		
		<h3>Exercice n°1</h3>
		
		<h2>Étape3: mise en place de la recherche d'un contact</h2>
		
		<input id="prenom" placeholder="Prénom" type="text">
		<input id="nom" placeholder="nom" type="text">
		<input id="numero" placeholder="numero" type="text">
		<button id="ajouter">Ajouter</button>		
		
		<ul id="liste"></ul>
		
		<div>
    	<input id="recherche" placeholder="Recherche" />
    	<button id="rechercher">Rechercher</button>
		</div>

		<ul id="resultats"></ul>
		
		<script type="text/javascript">
			$liste = document.getElementById("liste");
			$prenom = document.getElementById("prenom");
			$nom = document.getElementById("nom");
			$numero = document.getElementById("numero");
			$ajouter = document.getElementById("ajouter");
			$recherche = document.getElementById("recherche");
			$rechercher = document.getElementById("rechercher");
			$resultats = document.getElementById("resultats");
			
			contacts = [{
				prenom: "Julien",
				nom: "Grillot",
				numero: "0123456789"
			}, {
				prenom: "John",
				nom: "Smith",
				numero: "0123456789"
			}];
			
			function texteContact(contact) {
				return contact.prenom + " " + contact.nom + " (" + contact.numero + ")";
			}
			
			function afficherListe() {
				elements = "";
				for (i = 0; i < contacts.length; i++) {
					elements += "<li>" + texteContact(contacts[i]) + "</li>";
				}
				$liste.innerHTML = elements;
			}
			
			function ajouter() {
				contacts.push({
					prenom: $prenom.value,
					nom: $nom.value,
					numero: $numero.value
				});
				afficherListe();
			}
			function rechercher() {
				recherche = $recherche.value;
				elements = "";
				for (i = 0; i < contacts.length; i++) {
        	if (contacts[i].prenom == recherche || contacts[i].nom == recherche || contacts[i].numero == recherche) {
            elements += "<li>" + texteContact(contacts[i]) + "</li>";
        }
    }
    $resultats.innerHTML = elements;
}
			
			$ajouter.onclick = ajouter;
			$rechercher.onclick = rechercher;
			afficherListe();
		</script>
	</body>
</html>